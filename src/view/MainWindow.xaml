<Window
    x:Class="Logavise.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:avalon="http://icsharpcode.net/sharpdevelop/avalonedit"
    xmlns:local="clr-namespace:Logavise"
    Title="Logavise"
    Width="800"
    Height="450"
    MinWidth="380"
    MinHeight="261">
    <DockPanel Background="GhostWhite">
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="_File">
                <MenuItem Command="{Binding NewFileCommand}" Header="New" />
                <MenuItem Command="{Binding OpenFileCommand}" Header="Open…" />
                <MenuItem Header="Save" />
                <MenuItem Header="Save As…" />
                <MenuItem Header="Save All" />
                <MenuItem Header="Close" />
                <MenuItem Header="Recent Files" />
                <Separator />
                <MenuItem Header="Exit" />
            </MenuItem>
            <MenuItem Header="_Edit">
                <MenuItem Header="Cut" />
                <MenuItem Header="Copy" />
                <MenuItem Header="Paste" />
                <MenuItem Header="Duplicate" />
                <MenuItem Header="Delete" />
                <MenuItem Header="Select All" />
            </MenuItem>
            <MenuItem Header="Search">
                <MenuItem Header="Go To" />
                <MenuItem Header="Find" />
            </MenuItem>
            <MenuItem Header="View" />
            <MenuItem Header="Config" />
            <MenuItem Header="Settings" />
            <MenuItem Header="Window" />
            <MenuItem Header="_Help">
                <MenuItem Header="View Help" />
                <MenuItem Header="About Logavise" />
            </MenuItem>
        </Menu>

        <Border Padding="8,8,8,8" DockPanel.Dock="Bottom">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <Border
                    Grid.Row="0"
                    Padding="1,1,1,1"
                    Background="DarkGray">
                    <avalon:TextEditor
                        x:Name="consoleEditor"
                        Height="98"
                        HorizontalScrollBarVisibility="Hidden"
                        PreviewKeyDown="consoleEditor_PreviewKeyDown"
                        ShowLineNumbers="True" />
                </Border>
                <Border
                    Grid.Row="1"
                    Margin="0,8,0,0"
                    Padding="0,0,0,0"
                    Background="DarkGray">
                    <TextBox
                        x:Name="consoleLine"
                        Height="21"
                        KeyDown="consoleLine_KeyDown" />
                </Border>
            </Grid>
        </Border>

        <Border Padding="8,8,8,0">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <TabControl
                    x:Name="tabControl"
                    Grid.Row="0"
                    ItemsSource="{Binding EditorTabs}"
                    SelectionChanged="tabControl_SelectionChanged">
                    <TabControl.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Height="Auto" Orientation="Horizontal">
                                <TextBlock
                                    Height="24"
                                    Margin="0,0,4,0"
                                    Text="{Binding Header}" />
                                <Button
                                    Width="14"
                                    Height="14"
                                    Margin="0,-5,0,0"
                                    Click="CloseTabButton_Click"
                                    Focusable="False"
                                    Tag="{Binding Index}">
                                    ×
                                </Button>
                            </StackPanel>
                        </DataTemplate>
                    </TabControl.ItemTemplate>
                    <TabControl.ContentTemplate>
                        <DataTemplate>
                            <!--  Empty template  -->
                        </DataTemplate>
                    </TabControl.ContentTemplate>
                </TabControl>
                <Border
                    Grid.Row="1"
                    Padding="1,0,1,1"
                    Background="DarkGray">
                    <avalon:TextEditor
                        x:Name="textEditor"
                        Grid.Row="1"
                        FontFamily="Consolas"
                        HorizontalScrollBarVisibility="Auto"
                        ShowLineNumbers="True" />
                </Border>
            </Grid>

        </Border>
    </DockPanel>
</Window>
